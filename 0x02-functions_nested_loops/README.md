functions and nested while loop
